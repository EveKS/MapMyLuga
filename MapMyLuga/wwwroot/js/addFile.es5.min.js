"use strict";(function(n){function t(t,r){var f=n('<i class="'+r.icon+'"><\/i>'),u=n('<input type="file" name="'+r.name+'" />'),e=n('<div class="'+r["class"]+' img-upload-btn"><\/div>').append(f).append(u);return u.change(function(){if(u.show(),n(this).prop("files")[0]){var f=new FileReader;f.onload=function(f){var e=i(t,f.target.result,r,u);n(t).html(e)};f.readAsDataURL(u.prop("files")[0])}}),e}function i(i,r,u,f){f.hide();var o=n('<div><img src="'+r+'" class="img-rounded img-responsive" style="display: initial;" /><\/div>'),e=n('<div><button class="btn btn-link"><small>Удалить<\/small><\/button><\/div>'),s=n('<div class="text-center center-block"><\/div>').append(o).append(e).append(f);return e.click(function(){var r=t(i,u);f.val("");n("#FileIsDelet").val("true");n(i).html(r)}),s}n.fn.imagePicker=function(r){var u=n.extend({name:"","class":"form-control btn btn-default btn-block",icon:"glyphicon glyphicon-plus"},r);return n(this).children().eq(0).is("img")?this.each(function(){var t=n(this).children().eq(0).attr("src"),r=n('<input type="file" name="'+u.name+'" />');n(this).html(i(this,t,u,r))}):this.each(function(){n(this).html(t(this,u))})}})(jQuery);$(".img-picker").imagePicker({name:"images"});