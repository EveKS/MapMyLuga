"use strict";$(function(){function t(){this.datapicker=$("#datepicker").val();this.datapickerBegin=$("#datepicker-begin").val();this.datapickerEnd=$("#datepicker-end").val();this.groupId=$("#menu-group-id").val()}function i(){f();var i=new t,n=new FormData;n.append("Datepicker",i.datapicker);n.append("DatepickerBegin",i.datapickerBegin);n.append("DatepickerEnd",i.datapickerEnd);n.append("GroupId",i.groupId);$.ajax({type:"POST",url:"/Home/AddMarkers",contentType:!1,processData:!1,data:n,dataType:"json",success:function(n){$("#markers-script-id").remove();$.each(n,function(n,t){addMarker(t.markerMessageId,t.latitude,t.longitude,t.title,t.objectColor)})},error:function(){}})}function r(){u();var i=new t,n=new FormData;n.append("Datepicker",i.datapicker);n.append("DatepickerBegin",i.datapickerBegin);n.append("DatepickerEnd",i.datapickerEnd);n.append("GroupId",i.groupId);$.ajax({type:"POST",url:"/Home/AddLine",contentType:!1,processData:!1,data:n,dataType:"json",success:function(n){$("#markers-script-id").remove();$.each(n,function(n,t){addLine(t.messageId,t.title,t.coordinates,null,t.objectColor)})},error:function(){}})}function n(){$("#menu-input").is(":checked")&&i();$("#line-menu-input").is(":checked")&&r()}function u(){$.each(polygons,function(n,t){t.setMap(null)})}function f(){$.each(ids,function(n,t){marker[t].setMap(null)})}$("#menu").on("click","#btn-exit-menu",function(){$("#menu-content").removeClass("info-map-panel-visible")});jQuery(function(n){n.datepicker.regional.ru={closeText:"Закрыть",prevText:"&#x3c;Пред",nextText:"След&#x3e;",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayNames:["воскресенье","понедельник","вторник","Среда","четверг","пятница","Суббота"],dayNamesShort:["вск","пнд","втр","Срд","чтв","птн","Сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};n.datepicker.setDefaults(n.datepicker.regional.ru)});$("#datepicker, #datepicker-begin, #datepicker-end, #datepickerEdit").datepicker($.extend({inline:!0,changeYear:!0,changeMonth:!0},$.datepicker.regional.ru));$("#menu-input").change(function(){$(this).is(":checked")?i():f()});$("#line-menu-input").change(function(){$(this).is(":checked")?r():u()});$("#datepicker-one").on("click",function(){n()});$("#datepicker-more").on("click",function(){n()});$("#menu-group-span").on("click",function(){n()});$("#datepicker").on("click",function(){$("#datepicker-begin").val("");$("#datepicker-end").val("")});$("#datepicker-begin, #datepicker-end").on("click",function(){$("#datepicker").val("")})});